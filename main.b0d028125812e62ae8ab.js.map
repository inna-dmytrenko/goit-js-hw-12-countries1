{"version":3,"sources":["webpack:///./index.js","webpack:///./js/get-refs.js","webpack:///./js/fetchCountries.js","webpack:///./templates/countries.hbs","webpack:///./templates/country.hbs"],"names":["refs","form","document","querySelector","list","insertListItem","items","insertAdjacentHTML","console","log","addEventListener","event","preventDefault","debounce","e","searchQuery","target","value","innerHTML","name","fetch","then","r","json","catch","error","data","markup","countryListTemplate","renderCountriesList","countriesListTemplate","buildCountriesList","length","PNotify","defaults","styling","icons","title","text","alert","searchFormInput","Handlebars","__webpack_require__","module","exports","template","1","container","depth0","helpers","partials","helper","escapeExpression","helperMissing","call","nullContext","hash","compiler","main","stack1","each","fn","program","inverse","noop","useData","alias1","alias2","alias4","capital","population","languages","flag","2","lambda"],"mappings":"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","file":"main.b0d028125812e62ae8ab.js","sourcesContent":["import './styles.css';\r\nimport fetchCountries from './js/fetchCountries';\r\nimport countryListTemplate from './templates/country.hbs';\r\nimport countriesListTemplate from './templates/countries.hbs';\r\nimport PNotify from 'pnotify/dist/es/PNotify.js';\r\nimport PNotifyStyleMaterial from 'pnotify/dist/es/PNotifyStyleMaterial';\r\n\r\nimport debounce from 'lodash.debounce';\r\nimport getRefs from './js/get-refs';\r\n\r\nconst refs = getRefs();\r\n\r\nrefs.form.addEventListener('submit', event => {\r\n  event.preventDefault();\r\n});\r\n\r\nrefs.form.addEventListener(\r\n  'input',\r\n  debounce(e => {\r\n    searchFormInput(e);\r\n  }, 500),\r\n);\r\n\r\nfunction searchFormInput(e) {\r\n  const searchQuery = e.target.value;\r\n\r\n  clearListItems();\r\n\r\n  fetchCountries(searchQuery).then(data => {\r\n    const markup = buildListMarkup(data);\r\n    const renderCountriesList = buildCountriesList(data);\r\n    if (!data) {\r\n      return;\r\n    } else if (data.length > 10) {\r\n      PNotify.defaults.styling = 'material';\r\n      PNotify.defaults.icons = 'material';\r\n      PNotify.error({\r\n        title: 'Oh, No!',\r\n        text: 'Too many matches found. Please enter a more specific query!',\r\n      });\r\n    } else if (data.length >= 2 && data.length <= 10) {\r\n      insertListItem(renderCountriesList);\r\n    } else if (data.length === 1) {\r\n      insertListItem(markup);\r\n    } else {\r\n      alert('Упс, что-то пошло не так. Корректно введите запрос');\r\n    }\r\n  });\r\n}\r\n\r\nfunction insertListItem(items) {\r\n  refs.list.insertAdjacentHTML('beforeend', items);\r\n  console.log(items)\r\n}\r\n\r\nfunction buildCountriesList(items) {\r\n  return countriesListTemplate(items);\r\n}\r\n\r\nfunction buildListMarkup(items) {\r\n  return countryListTemplate(items);\r\n}\r\n\r\nfunction clearListItems() {\r\n  refs.list.innerHTML = '';\r\n}","export default function getRefs() {\r\n    return {\r\n        form: document.querySelector('#search-form'),\r\n        list: document.querySelector('#country-list'),\r\n    };\r\n}","export default function fetchCountries(name) {\r\n  return fetch(`https://restcountries.eu/rest/v2/name/${name}`)\r\n    .then(r => {\r\n      if (name) {\r\n        return r.json();\r\n      } else {\r\n        return;\r\n      }\r\n    })\r\n    .catch(error => console.log(error));\r\n}","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<li class=\\\"country-item\\\">\"\n    + container.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</li>\\r\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\");\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<li class=\\\"item\\\">\\r\\n    <article class=\\\"article\\\">\\r\\n        <div class=\\\"name\\\">\\r\\n            <h1 class=\\\"name-country\\\">\"\n    + alias4(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h1>\\r\\n        </div>\\r\\n        <div class=\\\"country-characteristics\\\">\\r\\n            <h2 class=\\\"capital\\\">Capital : \"\n    + alias4(((helper = (helper = helpers.capital || (depth0 != null ? depth0.capital : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"capital\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h2>\\r\\n            <span class=\\\"population\\\">Population : \"\n    + alias4(((helper = (helper = helpers.population || (depth0 != null ? depth0.population : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"population\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</span>\\r\\n            <div class=\\\"langs\\\">\\r\\n                <h2 class=\\\"lang-title\\\">Language : </h2>\\r\\n                <ul class=\\\"lang-list\\\">\\r\\n                    \"\n    + ((stack1 = helpers.each.call(alias1,(depth0 != null ? depth0.languages : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\r\\n                </ul>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"img-flag\\\">\\r\\n            <img src=\\\"\"\n    + alias4(((helper = (helper = helpers.flag || (depth0 != null ? depth0.flag : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"flag\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" alt=\\\"\\\" width=\\\"300\\\" height=\\\"250\\\">\\r\\n        </div>\\r\\n    </article>\\r\\n</li>\\r\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    return \" <li class=\\\"lang-item\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? depth0.name : depth0), depth0))\n    + \"</li> \";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}